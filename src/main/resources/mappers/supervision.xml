<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.svcbackend.mapper.SupervisionMapper">

    <resultMap id="SupervisionMap" type="com.svcbackend.model.SupervisionModel">
        <id property="idSupervision" column="idSupervision"/>
        <id property="idSectorMinisterio" column="idSector_ministerio"/>
        <result property="nombreSupervision" column="nombre_supervision"/>
        <result property="nombreSupervisor" column="nombre_supervisor"/>
    </resultMap>

    <select id="findAllSupervision" resultMap="SupervisionMap">
        SELECT * FROM mae_supervision ORDER BY idSupervision ASC
    </select>

    <select id="findByIdSupervision" parameterType="int" resultMap="SupervisionMap">
        SELECT * FROM mae_supervision WHERE idSupervision = #{idSupervision}
    </select>

    <insert id="registerSupervision" useGeneratedKeys="true" keyProperty="idSectorMinisterio">
        INSERT INTO mae_supervision (idSector_ministerio, nombre_supervision, nombre_supervisor)
        VALUES (#{idSector_ministerio}, #{nombre_supervision}, #{nombre_supervisor})
    </insert>

    <update id="updateSupervision">
        UPDATE mae_supervision
        SET idSector_ministerio = #{idSector_ministerio},
            nombre_supervision = #{nombre_supervision},
            nombre_supervisor = #{nombre_supervisor}
        WHERE idSupervision = #{idSupervision}
    </update>

    <delete id="deleteSupervision"  parameterType="int">
        DELETE FROM mae_supervision WHERE idSupervision = #{idSupervision}
    </delete>

</mapper>