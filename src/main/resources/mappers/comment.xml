<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.svcbackend.mapper.CommentMapper">

    <resultMap id="CommentMap" type="com.svcbackend.model.CommentModel">
        <id property="idComentario" column="idComentario"/>
        <id property="idCristiano" column="idCristiano"/>
        <result property="comentario" column="comentario"/>
    </resultMap>

    <select id="findAllComment" resultMap="CommentMap">
        SELECT * FROM mae_comentario ORDER BY idComentario ASC
    </select>

    <select id="findByIdComment" parameterType="int" resultMap="CommentMap">
        SELECT * FROM mae_comentario WHERE idComentario = #{idComentario}
    </select>

    <insert id="registerComment" useGeneratedKeys="true" keyProperty="idComentario">
        INSERT INTO mae_comentario (idCristiano, comentario)
        VALUES (#{idCristiano}, #{comentario})
    </insert>

    <update id="updateComment">
        UPDATE mae_comentario
        SET idCristiano = #{idCristiano},
            comentario = #{comentario}
        WHERE idComentario = #{idComentario}
    </update>

    <delete id="deleteComment"  parameterType="int">
        DELETE FROM mae_comentario WHERE idComentario = #{idComentario}
    </delete>

</mapper>